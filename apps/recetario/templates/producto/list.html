{% extends 'base/base_back.html' %}

{% load i18n app_security %}
{% load l10n humanize %}


{% block breadcrumbs %}
  <a href="{% url 'home' %}"><i class="fa fa-home fa-lg"></i> Home</a>
  &rsaquo; Productos
{% endblock breadcrumbs %}

{% block content_title %}
{{ opts.verbose_name_plural|capfirst }} | <small>{{ title }}</small>
{% endblock content_title %}

{% block content %}

<script type="text/javascript">
$(function() {
    $('table').kgrid({
        form_data : ['{{f}}', '{{q}}'],
        form_to   : '{% url "recetario:producto_list" %}?f={{f}}&q={{q}}',
        order_attr: 'class=""',
        order_to  : '{% url "recetario:producto_list" %}?f={{f}}&q={{q}}',
    });
});
</script>

    <div class="btn-toolbar btn-toolbar-top">
        <div class="row">
            <div class="btn-actions">
                <a href="{% url 'recetario:producto_add' %}" class="btn
                    btn-primary text-bold" title="Agregar Producto">
                    <i class="fa fa-plus">
                    </i>
                    <span class="hidden-xs"> Agregar Producto
                    </span>
                </a>
            </div>
        </div>
    </div>

    <div class="container-overflow">
        <table class="table table-bordered table-hover table-striped table-condensed table-responsive">
            <thead>
                <tr>
                    <th>#</th>
                    <th class="" data-search="nombre" data-order="nombre">Nombre</th>
                    <th>Stok</th>
                    <th>Unidad</th>
                    <th>Costo/Unidad</th>
                    <th class="btn-actions col-block text-center">Acciones</th>
                </tr>
            </thead>
            <tbody>
                {% for d in object_list %}
                <tr>
                    <td>
                        {% if is_paginated %}
                            {{ page_obj.start_index|add:forloop.counter0 }}
                        {% else %}
                            {{ forloop.counter }}
                        {% endif %}
                    </td>
                    <td>{{ d.nombre }}</td>
                    <td>{{ d.cantidad }}</td>
                    <td>{{ d.unidad }}</td>
                    <td>{{ d.costo }}</td>
                    <td class="text-center">
                        <a href="{% url 'recetario:producto_edit' d.pk %}" class="btn btn-info btn-sm text-bold" title="Cambiar producto" rel="tooltip"><i class="btn-icon-only fa fa-edit"></i></a>
                        <a href="{% url 'recetario:producto_delete' d.pk %}" class="btn btn-danger btn-sm js-confirm text-bold" msg-title="Eliminar producto?." msg="Estas seguro que quiere eliminar <br/> Recuerde que esta acciÃ³n no se puede deshacer." title="Eliminar producto" rel="tooltip"><i class="btn-icon-only fa fa-trash-o"></i></a>
                    </td>

                </tr>
                {% endfor %}
                
            </tbody>
        </table>
    </div>
   <div  class="row" >
    {% if is_paginated %}
    {% load paginator %}
    {% paginator %}
    {% else %}
    <div class="col-md-12" >
        <ul class="breadcrumbpag" >
            {{ object_list.count }}
            {% ifequal object_list.count 1 %}
                {{ opts.verbose_name|capfirst }}
            {% else %}{{ opts.verbose_name_plural|title }}
            {% endifequal %}
        </ul>
    </div>
    {% endif %}
</div>

{% endblock %}


{% block customjs %}
<script>
  $('#modal_confirmar').on('show.bs.modal', function (event) {
    $('.modal .modal-dialog').attr('class', 'modal-dialog modal-sm flipInY animated');
  })
</script>
{% endblock customjs %}
